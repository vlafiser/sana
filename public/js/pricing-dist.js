let $slider, $layer, $tooltip, $tooltips; var tooltipInfoVisible = 0, sliderWidth, selectedPayment = 1, finalValue = 0, limit, selectedInfo = 0; $(document).ready(function () { function a (g) { $(g).parents('.row').find('.active').removeClass('active'), $(g).hasClass('active') || ($(g).attr('id') == 'btn-01' ? selectedPayment = 0 : $(g).attr('id') == 'btn-02' && (selectedPayment = 1), $(g).addClass('active'), tooltipInfoChange(tooltipInfoVisible)) } function b () { $('#users').text(f(finalValue)); var g = selectedPayment == 0 ? 2e3 : 1800, h = selectedPayment == 0 ? 20 : 18, i = selectedPayment == 0 ? 2e3 : 4e3, j = selectedPayment == 0 ? 18 : 16, k, l; if (finalValue > 1e5 && finalValue < 2.5e5) { var m = finalValue - 1e5, n = m / 1e3; k = n * h } else if (finalValue >= 2.5e5) if (selectedPayment == 0) { var m = finalValue - 2.5e5, n = m / 1e3; k = n * j, k += 150 * h } else { var m = finalValue - 2.5e5, n = m / 1e3; k = n * j }l = k == null ? finalValue >= 2.5e5 ? i : g : (finalValue >= 2.5e5 ? i : g) + k, $('#price').text('$' + f(l)) } function c () { let g = $slider.children('.ui-slider-handle'); $layer.css('width', g.css('left')) } function d (g, h) { $layer.width() <= 110 ? $tooltip.css('left', '110px') : $layer.width() > 110 && $layer.width() < h ? $tooltip.css('left', '' + 100 * (g / 60) + '%') : $layer.width() >= h && $tooltip.css('left', '' + h + 'px') } new Bricklayer(document.querySelector('.bricklayer')); $slider = $('#slider'), addTooltip(), $tooltips = $tooltip.find('span'), $slider.append('<div class=\'layer\'></div>'), $layer = $slider.children('.layer'), sliderWidth = $slider.width(), selectedPaymentChange(1); var f = function (g, h) { if (g == 'Unlimited') return g; str = g.toFixed(h || 0), x = str.split('.'), x1 = x[0], x2 = x.length > 1 ? '.' + x[1] : ''; for (var i = /(\d+)(\d{3})/; i.test(x1);)x1 = x1.replace(i, '$1.$2'); return x1 + x2 }; $slider.slider({min: 0, max: 60, step: 1, values: [0], slide: function (g, h) { c(); let i = h.values[0]; limit = sliderWidth - 110, i <= 5 ? finalValue = 1e3 * i : i <= 35 ? (finalValue = 1e4 * (i - 5), tooltipInfoVisible = 1, tooltipInfoChange(tooltipInfoVisible)) : i <= 39 ? (finalValue = 5e4 * (i - 29), tooltipInfoVisible = 2, tooltipInfoChange(tooltipInfoVisible)) : i <= 45 ? finalValue = 1e5 * (i - 35) : i <= 59 ? finalValue = 1e6 * (i - 44) : i <= 60 && (finalValue = 'Unlimited'), i < 15 ? (tooltipInfoVisible = 0, tooltipInfoChange(tooltipInfoVisible)) : i >= 15 && i < 30 ? (tooltipInfoVisible = 1, tooltipInfoChange(tooltipInfoVisible)) : i >= 30 && (tooltipInfoVisible = 2, tooltipInfoChange(tooltipInfoVisible)), i > 44 ? toggleContactButton(!0) : toggleContactButton(!1), b(), d(i, limit) }, stop: function (g, h) { c(), d(h.values[0], sliderWidth - 110) }}), $('#btn-01').click(function () { a($(this)), b() }), $('#btn-02').click(function () { a($(this)), b() }), $('#slider').click(function () { a($(this)), b() }) }); function addTooltip () { $slider.append('<div class=\'tooltip\' id="tooltip"><span class="t-00">$2,000/mo base for 100K MAU</span><span class="t-10">$2,000/mo base for 100K MAU<br>+ $20/mo 1,000 MAU</span><span class="t-20">$2,000/mo base<br>+ $20/mo 1,000 MAU<br>+ $18/mo 1,000 MAU</span><span class="t-01 active">$1,800/mo base for 100K MAU</span><span class="t-11">$1,800/mo base for 100K MAU<br>+ $18/mo per 1,000 MAU extra</span><span class="t-21">$4,000/mo base for 250K MAU<br>+ $16/mo per 1,000 MAU extra</span></div>'), $tooltip = $('#tooltip') } function toggleContactButton (a) { let b = $('#price-data'); !0 != a || b.hasClass('visible') ? !1 == a && b.removeClass('visible') : b.addClass('visible') } function tooltipInfoChange (a) { $tooltip.find('span').removeClass('active'), $tooltip.find('.t-' + a + selectedPayment).addClass('active') } function selectedPaymentChange (a) { selectedPayment = a == 0 ? 0 : 1 }
